<div class="p-8 bg-[#fcfcfc] min-h-screen">
  <h1 class="text-2xl font-bold text-red-600 mb-6 drop-shadow">
    My Rewards
  </h1>
  <div class="flex flex-col md:flex-row gap-8 justify-center items-start">
    <!-- Points Card -->
    <div
      class="flex-1 border-2 border-red-300 rounded-3xl bg-white shadow-lg p-8 flex flex-col items-center mb-6 md:mb-0"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="100"
        height="110"
        viewBox="0 0 24 24"
        fill="#ff2b2b"
        stroke="#ffb0b0"
        stroke-width="2.25"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="mb-4"
      >
        <path
          d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"
        />
        <path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8" />
        <path d="M12 18V6" />
      </svg>
      <h2 class="text-xl font-bold text-red-700 mb-2">My Points</h2>
      <h3 class="text-3xl font-extrabold text-red-500 mb-1">{{ points }} XP</h3>
      <p class="text-gray-500">{{ pointsMessage }}</p>
      <button
        class="mt-4 bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-4 rounded-full shadow transition"
        (click)="addPoints(100)"
      >
        +100 XP
      </button>
    </div>

    <!-- Badges Section -->
    <div
      class="flex-1 border-2 border-red-200 rounded-3xl bg-[#fefcfc] shadow-md p-8"
    >
      <h2 class="text-lg font-semibold text-red-600 mb-4 text-center">
        Your Badges
      </h2>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
        <div *ngFor="let badge of badges" class="flex flex-col items-center">
          <div
            [ngClass]="badge.bgClass"
            class="rounded-full p-4 shadow-lg mb-2"
          >
            <ng-container *ngIf="!badge?.img">
              <svg
                *ngIf="badge.icon === 'star'"
                xmlns="http://www.w3.org/2000/svg"
                width="48"
                height="48"
                fill="none"
                viewBox="0 0 24 24"
                stroke="#fff"
                stroke-width="2"
              >
                <path
                  d="M12 2l2.09 6.26L20 9.27l-5 3.64L16.18 21 12 17.27 7.82 21 9 12.91l-5-3.64 5.91-.91z"
                />
              </svg>
              <svg
                *ngIf="badge.icon === 'check'"
                xmlns="http://www.w3.org/2000/svg"
                width="48"
                height="48"
                fill="none"
                viewBox="0 0 24 24"
                stroke="#fff"
                stroke-width="2"
              >
                <circle cx="12" cy="12" r="10" />
                <path d="M8 12l2 2 4-4" />
              </svg>
              <svg
                *ngIf="badge.icon === 'loyalty'"
                xmlns="http://www.w3.org/2000/svg"
                width="48"
                height="48"
                fill="none"
                viewBox="0 0 24 24"
                stroke="#fff"
                stroke-width="2"
              >
                <path
                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                />
              </svg>
            </ng-container>
          </div>
          <span class="text-sm font-bold text-red-700">{{ badge.name }}</span>
          <span
            *ngIf="badge.unlocked"
            class="text-green-600 text-xs font-semibold"
            >Unlocked</span
          >
          <span *ngIf="!badge.unlocked" class="text-gray-400 text-xs"
            >Locked</span
          >
        </div>
      </div>
      <div class="mt-8 text-center">
        <button
          class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-full shadow transition"
          [disabled]="!canRedeem"
          (click)="redeemRewards()"
        >
          Redeem Rewards
        </button>
        <div *ngIf="redeemMessage" class="mt-2 text-green-600 font-semibold">
          {{ redeemMessage }}
        </div>
      </div>
    </div>
  </div>

  <!-- Progress Bar -->
  <div class="mt-12 max-w-xl mx-auto">
    <h2 class="text-lg font-semibold text-red-600 mb-2">
      Progress to Next Level
    </h2>
    <div class="w-full bg-red-100 rounded-full h-6 mb-4">
      <div
        class="bg-gradient-to-r from-red-400 to-red-600 h-6 rounded-full flex items-center justify-end pr-4 text-white font-bold text-sm transition-all duration-500"
        [style.width]="progress + '%'"
      >
        {{ progress }}% to Gold
      </div>
    </div>
    <p class="text-gray-500 text-center">
      Earn {{ xpToNextLevel }} more XP to reach Gold status!
    </p>
  </div>
</div>
